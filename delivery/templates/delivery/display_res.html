  {% extends "delivery/base.html" %}

  {% block content %}
  <!-- Import Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
      body {
          background-color: #f8f9fa;
          font-family: 'Plus Jakarta Sans', sans-serif;
      }

      /* Custom Button Theme */
      .btn-custom {
          background-color: #ff7a18;
          border-color: #ff7a18;
          color: white;
          font-weight: 600;
          transition: all 0.3s;
          font-size: 0.85rem; /* Smaller font for button */
      }
      .btn-custom:hover {
          background-color: #e06000;
          border-color: #e06000;
          transform: translateY(-2px);
          color: white;
      }

      /* Card Hover Animation */
      .hover-card {
          transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .hover-card:hover {
          transform: translateY(-3px);
          box-shadow: 0 5px 15px rgba(0,0,0,0.08) !important;
      }
      
      /* Smaller Image Height */
      .card-img-fixed {
          height: 160px; /* Reduced from 200px */
          object-fit: cover;
          width: 100%;
      }

      /* Smaller Badge */
      .badge-sm {
          font-size: 0.75rem;
          padding: 0.35em 0.65em;
      }
  </style>

  <div class="container py-4">
      <!-- Header -->
      <div class="text-center mb-4">
          <h3 class="fw-bold text-dark">Explore Restaurants</h3>
          <p class="text-muted small">Find the best food spots near you</p>
      </div>

      <!-- 
        Updated Grid Classes for Smaller Cards:
        row-cols-2: 2 cards per row on mobile (instead of 1)
        row-cols-md-3: 3 cards on tablets
        row-cols-lg-4: 4 cards on laptops
        row-cols-xl-5: 5 cards on large screens
      -->
      <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-3">
          {% for item in li %}
          <div class="col">
              <div class="card h-100 border-0 shadow-sm rounded-3 hover-card">
                  
                  <!-- Image Wrapper -->
                  <div class="position-relative">
                      <img src="{{ item.img }}" class="card-img-fixed rounded-top-3" alt="{{ item.Res_name }}"
                          onerror="this.src='https://via.placeholder.com/400x300?text=Food'">
                      
                      <!-- Floating Badge -->
                      <span class="position-absolute top-0 end-0 m-2 badge bg-white text-dark shadow-sm rounded-pill badge-sm">
                          ‚≠ê {{ item.rating }}
                      </span>
                  </div>

                  <!-- Card Body -->
                  <div class="card-body p-3">
                      <div class="mb-1">
                          <!-- Truncate title to 1 line -->
                          <h6 class="card-title fw-bold mb-0 text-truncate" title="{{ item.Res_name }}">
                              {{ item.Res_name }}
                          </h6>
                      </div>
                      
                      <div class="mb-2">
                          <span class="badge bg-light text-secondary border badge-sm">{{ item.Food_cat }}</span>
                      </div>

                      <p class="card-text text-muted small text-truncate">
                          <i class="bi bi-geo-alt-fill text-danger me-1"></i> {{ item.address }}
                      </p>
                  </div>

                  <!-- Card Footer -->
                  <div class="card-footer bg-white border-0 pt-0 pb-3 px-3">
                      <a href="{% url 'delivery:view_menu' item.id %}" class="btn btn-custom btn-sm w-100 rounded-pill">
                          View Menu
                      </a>
                  </div>
              </div>
          </div>
          {% empty %}
          <div class="col-12 text-center py-5">
              <h5 class="text-muted">No restaurants found.</h5>
          </div>
          {% endfor %}
      </div>
  </div>
  {% endblock %}