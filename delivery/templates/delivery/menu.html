{% extends "delivery/base.html" %}

{% block content %}

<div
  style="
    max-width: 1200px;
    margin: 50px auto;
    background-color: #ffffff;
    padding: 30px;
    border-radius: 14px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    font-family: Arial, Helvetica, sans-serif;
  "
>
  <!-- HEADER -->
  <h2 style="margin-bottom: 10px; color: #333;">
    Menu ‚Äì {{ res.Res_name }}
  </h2>

  <p style="color: #555; margin-bottom: 5px;">
    üìç Address: {{ res.address }}
  </p>
  <p style="color: #555; margin-bottom: 5px;">
    üç¥ Category: {{ res.Food_cat }}
  </p>
  <p style="color: #555; margin-bottom: 20px;">
    ‚≠ê Rating: {{ res.rating }}/5
  </p>

  <!-- TABLE -->
  <table
    style="
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 25px;
    "
  >
    <tr style="background-color: #ff6b35; color: white;">
      <th style="padding: 12px;">Item Name</th>
      <th style="padding: 12px;">Description</th>
      <th style="padding: 12px;">Price (‚Çπ)</th>
      <th style="padding: 12px;">Availability</th>
      <th style="padding: 12px;">Category</th>
      <th style="padding: 12px;">Actions</th>
    </tr>

    {% for item in menu %}
    <tr style="text-align: center; border-bottom: 1px solid #ddd;">
      <td style="padding: 10px;">{{ item.item_name }}</td>
      <td style="padding: 10px;">{{ item.description }}</td>
      <td style="padding: 10px;">{{ item.price }}</td>
      <td style="padding: 10px;">
        {% if item.is_available %}
          <span style="color: green; font-weight: bold;">Available</span>
        {% else %}
          <span style="color: red; font-weight: bold;">Not Available</span>
        {% endif %}
      </td>
      <td style="padding: 10px;">{{ item.category }}</td>
      <td style="padding: 10px;">
        <a
          href="{% url 'delivery:delete_menu' item.id %}"
          onclick="return confirm('Are you sure you want to delete this item?');"
        >
          <button
            style="
              background-color: #dc3545;
              color: white;
              padding: 6px 14px;
              border: none;
              border-radius: 6px;
              cursor: pointer;
              font-size: 14px;
            "
          >
            Delete
          </button>
        </a>
      </td>
    </tr>

    {% empty %}
    <tr>
      <td colspan="6" style="padding: 15px; text-align: center;">
        No menu items available.
      </td>
    </tr>
    {% endfor %}
  </table>

  <!-- ADD MENU BUTTON -->
  <div style="text-align: right;">
    <a href="{% url 'delivery:add_menu' res.id %}">
      <button
        style="
          background-color: #28a745;
          color: white;
          padding: 10px 20px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 15px;
        "
      >
        ‚ûï Add Menu
      </button>
    </a>
  </div>
</div>

{% endblock %}
